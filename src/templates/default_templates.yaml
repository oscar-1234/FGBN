templates:
  fabbrica_giocattoli_standard:
    nome: "Fabbrica Giocattoli Standard"
    descrizione: "Template standard per la gestione turni della Fabbrica del Polo Nord"
    struttura: |
      File Excel organizzato con una singola riga di intestazione:
      - Colonna 'Nome Elfo': Identificativo univoco dell'elfo
      - Colonna 'Cappello': Ruolo
        - 'Rosso' = Mastro Elfo (responsabile reparto)
        - 'Verde' = Elfo Apprendista (supporto)
      - Colonne Turni: Formato 'GGG_O' (es: 'LUN_1', 'LUN_2'...'MAR_1'...'MAR_6')
        - GGG: Giorno (LUN, MAR, MER, GIO, VEN, SAB, DOM)
        - O: Numero ora del turno (1-6)

      Valori nelle celle turni:
      - Codice reparto (es. 'Trenini', 'Robot', 'Costruzioni') = elfo assegnato a quel reparto in quell'ora
      - 'Jolly' = elfo disponibile per sostituzioni
      - 'RM' = fuori a cercare materiali (non disponibile)
      - 'Carb' = gestisce regali bimbi cattivi (non disponibile)
      - 'ABS - XYZ' = elfo assente dal reparto XYZ
      - 'SUB - XYZ' = elfo sostituisce nel reparto XYZ
      - Cella vuota tra due celle assegnate = 'Pausa pizza' (richiamabile) (le celle assegnate
      non possono essere ' ', 'Jolly', 'RM', 'Carb' e 'ABS - XYZ')
    
    regole: |
      REGOLA 'Assistente assegnato a stesso reparto':
      Cappello Verde nello stesso reparto sostituisce Cappello Rosso
      Se un elfo Cappello Rosso è assente e un Cappello Verde è già assegnato allo stesso
      reparto in quell'ora, il Verde prende la responsabilità totale.
      Esempio: Lampogio (Rosso) è assente nel reparto 'Costruzioni' alla 4^ ora ('ABS - Costruzioni'). Spruzzo
      (Verde) è assegnato a 'Costruzioni' nella 4^ ora. Quindi Spruzzo sostituisce ('SUB - Costruzioni').
      
      REGOLA 'Ora Jolly': Gli elfi 'Jolly' sono i primi candidati a sostituire
      Esempio: Se Scintillino è assente ('ABS - Robot') alla 4^ ora e Brillastella ha 'Jolly'
      nella 4^ ora, allora Brillastella sostituisce ('SUB - Robot').
      
      REGOLA 'Ora Pausa pizza': Gli elfi in 'Pausa pizza' possono essere chiamati
      Una 'Pausa pizza' è un'ora vuota tra due ore assegnate (le ore assegnate
      NON possono essere ' ', 'Jolly', 'RM', 'Carb' e 'ABS - XYZ').
      Esempio Ok: Se Lampogio è assente ('ABS - Costruzioni') alla 3^ ora e Fulgor ha la 2^ ora
      assegnata a 'Robot' e la 4^ ora assegnata a 'Libri' (quindi 3^ ora vuota), Fulgor può
      sostituire ('SUB - Costruzioni').
      Esempio Ko: Se Pignaferma è assente ('ABS - Robot') alla 3^ ora e Rametto ha la 2^ ora
      assegnata a 'RM' e la 4^ ora assegnata a 'Puzzle' (quindi 3^ ora vuota MA l'ora adiacente è 'RM'),
      Fulgor è indisponibile alla sostituzione.
      
      **PRIORITÀ APPLICAZIONE REGOLE**: cerca soluzioni applicando le regole in questo ordine
        1) Prima Regola 'Assistente assegnato a stesso reparto'
        2) Regola 'Ora Jolly'
        3) Regola 'Ora Pausa pizza'.

      hints_analisi:
        - pattern_colonne: "Identifica le colonne turni cercando pattern come 'LUN_', 'MAR_' nell'header"
        - validazione: "Verifica che il sostituto non sia a sua volta assente ('ABS') o già occupato assegnato ad altro reparto."

  personalizzato:
    nome: "Personalizzato"
    descrizione: "Template vuoto per configurazioni personalizzate"
    struttura: "Descrivi qui la struttura del tuo file..."
    regole: "Definisci qui le regole di sostituzione..."